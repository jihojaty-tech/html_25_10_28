<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .user{
            background-color: beige;
        }
    </style>
</head>
<body>
    <!-- êµ¬êµ¬ë‹¨ ë¬¸ì œ -->
     <button type="button" id="startBtn">ë¬¸ì œ ì¶œì œ</button>
     <ol id="q"></ol>
     <button type="button" id="compareBtn">ì •ë‹µ í™•ì¸</button>
     <h3 id="print"></h3>
    
     <script>
        const ansObj = {}; // ì •ë‹µì„ ë‹´ëŠ” ê°ì²´
        const quizArea = document.getElementById('q');
        // ans0 : ì •ë‹µì„ ë‹´ì„ ë³€ìˆ˜ ì´ë¦„
        // ansObj[ans0] = ì •ë‹µ
        // id => html íŒŒì¼ì—ì„œ ìœ ì¼í•˜ê²Œ êµ¬ë¶„ì´ ê°€ëŠ¥í•´ì•¼ í•¨
        document.getElementById('startBtn').addEventListener('click',()=> {
            let count = 0;
            let q = '';
            
            do{
                let dan = makeRandom(2,9);
                let incre = makeRandom(1,9);
                let answer = dan * incre;
                // ì •ë‹µì„ ê°ì²´ì— ì €ì¥
                ansObj[`ans${count}`] = answer;

                // quiz ì˜ì—­ì— ë¿Œë¦¬ê¸°
                q += `<li>${dan} x ${incre} = <input type="text" class="user" id="userAns${count}"> </li>`;
                count++;
            }while(count < 10);
            quizArea.innerHTML = q;
            console.log(ansObj);
        });

        function makeRandom(min, max){
            // 2~9ë‹¨ / incre 1~9
            return Math.floor(Math.random()*(max - min + 1))+ min;
        }
        
        // ì •ë‹µí™•ì¸ë²„íŠ¼ì„ í•œ ë²ˆë§Œ ëˆ„ë¥¼ ìˆ˜ ìˆê²Œë” í•˜ê¸°
        // ë°©ë²• 1. ë²„íŠ¼ ê°ì²´ë¥¼ disabledë¡œ ë³€ê²½
        // ê°ì²´.disabled=true; => ë²„íŠ¼ ì‹¤í–‰ ë§‰ê¸° / false => ë²„íŠ¼ ì‹¤í–‰ ê°€ëŠ¥

        // ë°©ë²• 2. 
        // {once : true} : ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ ë ë•Œ í•œ ë²ˆ ì‹¤í–‰ë˜ë©´ ë¦¬ìŠ¤ë„ˆë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œ
        // ì •ë‹µ í™•ì¸
        document.getElementById('compareBtn').addEventListener('click',()=>{
            let correct = 0; // ì •ë‹µê°œìˆ˜
            let count = 0;

            const userInput = document.querySelectorAll('.user');
            console.log(userInput);

            while(count < 10){
                console.log(userInput[count]);
                if(Number(userInput[count].value) == ansObj[`ans${count}`]){
                    correct++;
                    userInput[count].value += `\t ğŸ™†`;
                    userInput[count].style.backgroundColor = 'green';
                } else{
                    userInput[count].value += `\t ğŸ™…â€â™‚ï¸`;
                    userInput[count].style.backgroundColor = 'red';
                }
                count ++;
            }
            document.getElementById('print').innerText = `ì •ë‹µ ê°¯ìˆ˜ : ${correct}, ì •ë‹µë¥  : ${(correct/count)*100}%`;
        },{once:true}); // ì´ë²¤íŠ¸ê°€ í•œ ë²ˆë§Œ ë°œìƒì‹œí‚¤ëŠ”
     </script>
</body>
</html>